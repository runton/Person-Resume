function getCookie(b){var a,c=new RegExp("(^|)"+b+"=([^;]*)(;|$)");if(a=document.cookie.match(c)){return decodeURI(a[2])}else{return null}}function delCookie(a){var c=new Date();c.setTime(c.getTime()-1);var b=getCookie(a);if(b!=null){document.cookie=a+"="+b+";expires="+c.toGMTString()}}function setCookie(b,f,c){if(c!=0&&isNaN(c)){var e=new Date();e.setTime(e.getTime()+(c)*1000);var a="expires="+e.toGMTString();console.log(a);console.log(e);document.cookie=b+"="+f+";"+a}else{document.cookie=b+"="+f}}function checkCookie(a){var b=getCookie(a);if(b!=""){return true}else{return false}}$.fn.hiddenElement=function(){this.attr("style","display:none")};$.fn.showElement=function(){this.attr("style","display:block")};function GetRequest(){var b=location.search;var a=new Object();if(b.indexOf("?")!=-1){var d=b.substr(1);strs=d.split("&");for(var c=0;c<strs.length;c++){a[strs[c].split("=")[0]]=(strs[c].split("=")[1])}}return a}function loadLastArticle(){$.get("php/runton_last_article.php",function(c){var a="";console.log(c);for(var b=0;b<3;b++){a+="<li><p><a href='runton_article.html?tid="+c[b].tid+"'>"+c[b].title+"</a></p><span>"+c[b].create_time+"</span></li>"}$("footer .row1 .container .col-md-3 .last_adjust").append(a)})}function loadLastComment(){$.get("php/runton_last_comment.php",function(c){var a="";for(var b=0;b<4;b++){a+="<li><p><a href='runton_article.html?tid="+c[b].tid+"'>"+AnalyticEmotion(c[b].text)+"</a></p></li>"}$("footer .row1 .container .col-md-3 .last-comment").append(a)})}function loadSource(d,b){if(d.length==0){alert("加载失败。");return}var e=null;if(b==0){e=$("#all")}else{if(b==1){e=$("#refer")}else{if(b==2){e=$("#doc")}else{if(b==3){e=$("#soft")}else{if(b==4){e=$("#example")}else{if(b==5){e=$("#pulguns")}else{if(b==6){e=$("#models")}else{if(b==7){e=$("#other")}else{return false}}}}}}}}if(b!=0){e.empty()}var f="";var c=diffData(d,b);if(c.length==0){f+="<div class='media'><div class='media-body'><h4 class='media-heading'>没有找到对应类型资源。</h4></div></div>"}else{for(var a=0;a<c.length;a++){f+="<div class='media'><span class='pull-left'><img class='media-object' src='' alt=''/></span>";f+="<div class='media-body'><h4 class='media-heading'>"+c[a].title+"</h4>";if(b==0){switch(c[a].type){case"0":f+="<p><span>教程</span></p>";break;case"1":f+="<p><span>文档</span></p>";break;case"2":f+="<p><span>软件</span></p>";break;case"3":f+="<p><span>案例</span></p>";break;case"4":f+="<p><span>插件</span></p>";break;case"5":f+="<p><span>模板</span></p>";break;case"6":f+="<p><span>Other</span></p>";break}}else{if(b==1){f+="<p><span>教程</span></p>"}else{if(b==2){f+="<p><span>文档</span></p>"}else{if(b==3){f+="<p><span>软件</span></p>"}else{if(b==4){f+="<p><span>案例</span></p>"}else{if(b==5){f+="<p><span>插件</span></p>"}else{if(b==6){f+="<p><span>模板</span></p>"}else{if(b==7){f+="<p><span>Other</span></p>"}}}}}}}}f+="<p>"+c[a].decoration+"</p>";f+="<p><label>链接：</label><a href='"+c[a].linkUrl+"'>"+c[a].linkUrl+"</a></p></div></div>"}}e.append(f);return true}function tabToggle(a,b){$(a).siblings().removeClass("active");$($(a)[b]).addClass("active")}function tabContentToggle(a){$(a).addClass("tab-pane fade in active").siblings("div").removeClass("in active")}function sourceToggle(a){$("ul.source-type").on("click","li",function(d){var e=d.target;var b=window.location.href;if(b.indexOf("runton_source.html")!=-1){if(e.innerHTML=="全部"){$("#all div.media").remove();loadSource(a,0);tabToggle("section .col-md-9 .source-tabs ul li",0);tabContentToggle("#all")}else{if(e.innerHTML=="教程"){loadSource(a,1);tabToggle("section .col-md-9 .source-tabs ul li",1);tabContentToggle("#refer")}else{if(e.innerHTML=="文档"){loadSource(a,2);tabToggle("section .col-md-9 .source-tabs ul li",2);tabContentToggle("#doc")}else{if(e.innerHTML=="软件"){loadSource(a,3);tabToggle("section .col-md-9 .source-tabs ul li",3);tabContentToggle("#soft")}else{if(e.innerHTML=="案例"){loadSource(a,4);tabToggle("section .col-md-9 .source-tabs ul li",4);tabContentToggle("#example")}else{if(e.innerHTML=="插件"){loadSource(a,5);tabToggle("section .col-md-9 .source-tabs ul li",5);tabContentToggle("#pulguns")}else{if(e.innerHTML=="模板"){loadSource(a,6);tabToggle("section .col-md-9 .source-tabs ul li",6);tabContentToggle("#models")}else{if(e.innerHTML=="其他"){loadSource(a,7);tabToggle("section .col-md-9 .source-tabs ul li",7);tabContentToggle("#other")}}}}}}}}}else{var c=e.getAttribute("data-type");window.location.href="runton_source.html?type="+c}})}function hotWordToggle(){$("section .container .col-md-3 .row .word").on("click","li",function(c){var d=c.target;var b=d.innerHTML;var a=window.location.href;if(a.indexOf("runton_art_list.html")!=-1){$.get("php/runton_label_article.php",{label:b},function(e){if(e!="fail"){$("#all").html("");$("#all").append(e)}else{$("#all").html("");$("#all").append("<p>暂无此类内容。。</p>")}})}else{window.location.href="runton_art_list.html?label="+b}})}$(document).ready(function(){if(getCookie("PHPSESSID")&&getCookie("login_id")){$("nav .container ul li .user_center").showElement();$("nav .container ul li .login-reg").hiddenElement()}else{$("nav .container ul li .login-reg").showElement();$("nav .container ul li .user_center").hiddenElement()}});$("nav .container .login_container a").click(function(a){a.preventDefault();$("nav .container .login_container").addClass("hidden")});$(".Exit").click(function(c){c.preventDefault();$("nav .container ul li .user_center").hiddenElement();$("nav .container ul li .login-reg").showElement();$.get("php/runton_exit.php");delCookie("login_id");var b=/runton_usercenter.html/;var a=window.location.href;if(a.match(b)!=null){window.location.href="index.html"}});$("#user").click(function(c){c.preventDefault();var a=getCookie("login_id");var b=getCookie("PHPSESSID");window.location.href="runton_usercenter.html?user_id="+a+";session_id="+b});$("#login-form input[type='submit']").click(function(b){b.preventDefault();var a=$("#login-form").serialize();$.post("php/runton_login.php",a,function(c){if(c.msg!=="succ"){$(".lgn-title p").html(c.reason)}else{$(".login-reg").hiddenElement();window.location.href="index.html";setCookie("login_id",c.login_id,0)}})});$("footer ul.contact-icon").on("mouseover","li a",function(a){var b=a.target;if(b.className=="qq_icon"){c(b,"imgs/IMG_0633.jpg");$("footer ul.contact-icon .QRCode").attr("style","display:block")}else{if(b.className=="weixin_icon"){c(b,"imgs/IMG_0630.jpg");$("footer ul.contact-icon .QRCode").attr("style","display:block")}else{if(b.className=="sinablog_icon"){c(b,"imgs/IMG_0632.jpg");$("footer ul.contact-icon .QRCode").attr("style","display:block")}else{if(b.className=="qqblog_icon"){c(b,"imgs/liantu.jpg");$("footer ul.contact-icon .QRCode").attr("style","display:block")}}}}function c(g,i){var e=document.createDocumentFragment();var h=document.createElement("div");h.className="QRCode";var f=document.createElement("div");f.className="arrow";var d=document.createElement("img");d.className="img-responsive";d.setAttribute("src",i);h.appendChild(f);h.appendChild(d);e.appendChild(h);g.appendChild(e)}});$("footer ul.contact-icon").on("mouseout","li a",function(){$("footer ul.contact-icon .QRCode").remove()});$("footer ul.contact-icon").on("click","li a",function(a){a.preventDefault()});function loadLastMember(){$.post("php/runton_lastMember.php",function(a){if(a.length>0){var c="";for(var b=0;b<a.length;b++){c+="<li><a href='#' data-toggle='tooltip' title='"+a[b].username+"'>";c+="<img class='img-responsive' src='"+a[b].user_pic+"' alt=''/></a></li>"}$("footer .row1 ul.last-member").empty().append(c)}})};