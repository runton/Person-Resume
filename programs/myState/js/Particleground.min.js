!function(e){function d(ae,ad){function ac(){if(G){$canvas=e('<canvas class="pg-canvas"></canvas>'),H.prepend($canvas),S=$canvas[0],Q=S.getContext("2d"),ab();for(var g=Math.round(S.width*S.height/ad.density),j=0;g>j;j++){var h=new W;h.setStackPos(j),F.push(h)}e(window).on("resize",function(){Z()}),e(document).on("mousemove",function(b){c=b.pageX,a=b.pageY}),P&&!R&&window.addEventListener("deviceorientation",function(){L=Math.min(Math.max(-event.beta,-30),30),N=Math.min(Math.max(-event.gamma,-30),30)},!0),aa(),T("onInit")}}function ab(){S.width=H.width(),S.height=H.height(),Q.fillStyle=ad.dotColor,Q.strokeStyle=ad.lineColor,Q.lineWidth=ad.lineWidth}function aa(){if(G){M=e(window).width(),K=e(window).height(),Q.clearRect(0,0,S.width,S.height);for(var g=0;g<F.length;g++){F[g].updatePosition()}for(var g=0;g<F.length;g++){F[g].draw()}J||(O=requestAnimationFrame(aa))}}function Z(){for(ab(),i=F.length-1;i>=0;i--){(F[i].position.x>H.width()||F[i].position.y>H.height())&&F.splice(i,1)}var h=Math.round(S.width*S.height/ad.density);if(h>F.length){for(;h>F.length;){var g=new W;F.push(g)}}else{h<F.length&&F.splice(h)}for(i=F.length-1;i>=0;i--){F[i].setStackPos(i)}}function Y(){J=!0}function X(){J=!1,aa()}function W(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*S.width),y:Math.ceil(Math.random()*S.height)},this.speed={},ad.directionX){case"left":this.speed.x=+(-ad.maxSpeedX+Math.random()*ad.maxSpeedX-ad.minSpeedX).toFixed(2);break;case"right":this.speed.x=+(Math.random()*ad.maxSpeedX+ad.minSpeedX).toFixed(2);break;default:this.speed.x=+(-ad.maxSpeedX/2+Math.random()*ad.maxSpeedX).toFixed(2),this.speed.x+=this.speed.x>0?ad.minSpeedX:-ad.minSpeedX}switch(ad.directionY){case"up":this.speed.y=+(-ad.maxSpeedY+Math.random()*ad.maxSpeedY-ad.minSpeedY).toFixed(2);break;case"down":this.speed.y=+(Math.random()*ad.maxSpeedY+ad.minSpeedY).toFixed(2);break;default:this.speed.y=+(-ad.maxSpeedY/2+Math.random()*ad.maxSpeedY).toFixed(2),this.speed.x+=this.speed.y>0?ad.minSpeedY:-ad.minSpeedY}}function V(h,g){return g?void (ad[h]=g):ad[h]}function U(){H.find(".pg-canvas").remove(),T("onDestroy"),H.removeData("plugin_"+f)}function T(b){void 0!==ad[b]&&ad[b].call(I)}var S,Q,O,M,K,I=ae,H=e(ae),G=!!document.createElement("canvas").getContext,F=[],c=0,a=0,R=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),P=!!window.DeviceOrientationEvent,N=0,L=0,J=!1;return ad=e.extend({},e.fn[f].defaults,ad),W.prototype.draw=function(){Q.beginPath(),Q.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,ad.particleRadius/2,0,2*Math.PI,!0),Q.closePath(),Q.fill(),Q.beginPath();for(var h=F.length-1;h>this.stackPos;h--){var g=F[h],l=this.position.x-g.position.x,k=this.position.y-g.position.y,j=Math.sqrt(l*l+k*k).toFixed(2);j<ad.proximity&&(Q.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),ad.curvedLines?Q.quadraticCurveTo(Math.max(g.position.x,g.position.x),Math.min(g.position.y,g.position.y),g.position.x+g.parallaxOffsetX,g.position.y+g.parallaxOffsetY):Q.lineTo(g.position.x+g.parallaxOffsetX,g.position.y+g.parallaxOffsetY))}Q.stroke(),Q.closePath()},W.prototype.updatePosition=function(){if(ad.parallax){if(P&&!R){var h=(M-0)/60;pointerX=(N- -30)*h+0;var g=(K-0)/60;pointerY=(L- -30)*g+0}else{pointerX=c,pointerY=a}this.parallaxTargX=(pointerX-M/2)/(ad.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(pointerY-K/2)/(ad.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}switch(ad.directionX){case"left":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=H.width()-this.parallaxOffsetX);break;case"right":this.position.x+this.speed.x+this.parallaxOffsetX>H.width()&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>H.width()||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(ad.directionY){case"up":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=H.height()-this.parallaxOffsetY);break;case"down":this.position.y+this.speed.y+this.parallaxOffsetY>H.height()&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>H.height()||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},W.prototype.setStackPos=function(b){this.stackPos=b},ac(),{option:V,destroy:U,start:X,pause:Y}}var f="particleground";e.fn[f]=function(h){if("string"==typeof arguments[0]){var c,b=arguments[0],a=Array.prototype.slice.call(arguments,1);return this.each(function(){e.data(this,"plugin_"+f)&&"function"==typeof e.data(this,"plugin_"+f)[b]&&(c=e.data(this,"plugin_"+f)[b].apply(this,a))}),void 0!==c?c:this}return"object"!=typeof h&&h?void 0:this.each(function(){e.data(this,"plugin_"+f)||e.data(this,"plugin_"+f,new d(this,h))})},e.fn[f].defaults={minSpeedX:0.1,maxSpeedX:0.7,minSpeedY:0.1,maxSpeedY:0.7,directionX:"center",directionY:"center",density:10000,dotColor:"#666666",lineColor:"#666666",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}}}(jQuery),function(){for(var e=0,d=["ms","moz","webkit","o"],f=0;f<d.length&&!window.requestAnimationFrame;++f){window.requestAnimationFrame=window[d[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[f]+"CancelAnimationFrame"]||window[d[f]+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var j=(new Date).getTime(),h=Math.max(0,16-(j-e)),g=window.setTimeout(function(){a(j+h)},h);return e=j+h,g}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){clearTimeout(b)})}();